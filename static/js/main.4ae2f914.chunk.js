(this["webpackJsonpmass-vocab-search-gh-pages"]=this["webpackJsonpmass-vocab-search-gh-pages"]||[]).push([[0],{22:function(e,t,n){},43:function(e){e.exports=JSON.parse('{"key":"dict.1.1.20210530T134803Z.eb14b9d158dd0367.91c5634596c93b8bc100475dc9e8af1f22972a96"}')},44:function(e){e.exports=JSON.parse('{"key":"1be91e33-f360-859c-bb8b-93d41b745d6c:fx"}')},52:function(e,t,n){},71:function(e,t,n){},76:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var r,i,a,s,c,o,u,l,d,h,p,f,j,m=n(0),b=n.n(m),O=n(16),v=n.n(O),g=(n(52),n(7)),x=n(8),N=n(10),S=n(9),I=n(23),y=n(5),E=(n(22),n(11)),P=n.n(E),R=n(17),C=n(19),T=n(20),k=n.n(T),A=n(26),w=n(21),L=(n(71),n(1)),D=function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(x.a)(n,[{key:"renderPartOfSpeech",value:function(e){var t="Verb"===e.partOfSpeech?Object(L.jsxs)("div",{className:"conjugations",children:[""!==e.aspect?Object(L.jsx)("div",{children:e.aspect},"aspect"):null,"Short form"===e.form?Object(L.jsx)("div",{children:"Short Form"},"form"):null,"Imperative"===e.mood?Object(L.jsx)("div",{children:"Imperative"},"mood"):null,Object(L.jsx)("div",{children:"ru"===this.props.lang?this.getPronoun(e):Object(L.jsx)("div",{children:e.person},"person")},"number/person"),""!==e.tense?Object(L.jsx)("div",{children:e.tense},"tense"):null,""!==e.voice?Object(L.jsx)("div",{children:e.voice},"voice"):null]}):"Noun"===e.partOfSpeech?Object(L.jsxs)("div",{className:"conjugations",children:[""!==e.case?Object(L.jsx)("div",{children:e.case},"case"):null,""!==e.gender?Object(L.jsx)("div",{children:e.gender},"gender"):null,""!==e.number?Object(L.jsx)("div",{children:e.number},"number"):null]}):"Adjective"===e.partOfSpeech?Object(L.jsxs)("div",{className:"conjugations",children:[""!==e.case?Object(L.jsx)("div",{children:e.case},"case"):null,""!==e.gender?Object(L.jsx)("div",{children:e.gender},"gender"):null,"Plural"!==e.number?Object(L.jsx)("div",{children:"Plural"},"number"):null]}):null;return Object(L.jsxs)("div",{className:"context",children:[Object(L.jsx)("div",{className:"part-of-speech",children:e.partOfSpeech}),t]})}},{key:"getPronoun",value:function(e){return"First"===e.person?"Singular"===e.number?"\u042f":"\u041c\u044b":"Second"===e.person?"Singular"===e.number?"\u0422\u044b":"\u0412\u044b":"Third"===e.person?"Singular"===e.number?"\u041e\u043d/\u041e\u043d\u0430/\u041e\u043d\u043e":"\u041e\u043d\u0438":"Singular"===e.number?"Reflexive (singular)":"Reflexive (plural)"}},{key:"renderDefinition",value:function(e){if(e.definition.def&&e.definition.def.length>0){var t=e.definition.def[0].tr.map((function(t){return Object(L.jsx)("li",{children:t.text},t.text+e.boundingPoly.vertices[0])}));return Object(L.jsx)("ol",{children:t},e.description+e.boundingPoly.vertices[0]+"list")}if(e.definition.translations&&e.definition.translations.length>0){if(""===e.definition.translations[0]||void 0===e.definition.translations[0])return"no definition found :(";var n=e.definition.translations.map((function(t){return Object(L.jsx)("li",{children:t.text},t.text+e.boundingPoly.vertices[0])}));return Object(L.jsx)("ol",{children:n},e.description+e.boundingPoly.vertices[0]+"list")}return"no definition found :("}},{key:"detectImageRotation",value:function(){var e=this.props.detections[0],t=e.boundingPoly.vertices[0],n=e.boundingPoly.vertices[1],r=e.boundingPoly.vertices[3],i=e.boundingPoly.vertices[2];return n.x>t.x&&Math.abs(n.x-t.x)>Math.abs(n.x-i.x)?"right side up":(console.log("the image was flipped at some point during detection and I simply don't know why :/"),n.x<t.x&&Math.abs(n.x-t.x)>Math.abs(t.x-i.x)?(console.log("2 3\n1 0"),"upside-down"):r.x>n.x&&Math.abs(r.x-n.x)>Math.abs(n.x-t.x)?"rotated left":n.x>r.x&&Math.abs(n.x-r.x)>Math.abs(n.x-t.x)?(console.log("3 0\n2 1"),"rotated right"):void 0)}},{key:"renderDetectionsOnImage",value:function(){var e=this,t=this.detectImageRotation();return this.props.detections.map((function(n,r){var i=n.boundingPoly.vertices[0],a=n.boundingPoly.vertices[1],s=n.boundingPoly.vertices[3],c=n.boundingPoly.vertices[2],o=Math.min(i.y,a.y,s.y,c.y),u=Math.min(i.x,a.x,s.x,c.x),l=Math.max(i.y,a.y,s.y,c.y),d=Math.max(i.x,a.x,s.x,c.x),h=o,p=u,f=l-o,j=d-u;"right side up"!==t&&("rotated left"===t&&(h=u,p=e.props.imageWidth-l,f=d-u,j=l-o),"rotated right"===t&&(console.log("correcting right rotation"),h=e.props.imageWidth-d,p=o,f=d-u,j=l-o),"upside-down"===t&&(console.log("correcting upside-down rotation"),h=e.props.imageHeight-o,p=e.props.imageWidth-d,f=l-o,j=d-u));var m=Object(L.jsxs)(w.a,{className:"dynamic-text-size",id:n.description,children:[Object(L.jsx)(w.a.Title,{className:"large-dynamic-text-size",children:n.description}),Object(L.jsxs)(w.a.Content,{children:[e.renderPartOfSpeech(n),n.lemma!==n.description?Object(L.jsxs)("div",{className:"conjugation-of",children:[Object(L.jsx)("div",{children:"Conjugation of"}),Object(L.jsx)("div",{className:"lemma",children:n.lemma})]}):null,Object(L.jsx)("div",{className:"lemma-definition",children:e.renderDefinition(n)})]})]},n.description+h+"-popover"),b=window.innerHeight,O=window.innerHeight*(e.props.imageWidth/e.props.imageHeight),v=h/e.props.imageHeight*b,g=p/e.props.imageWidth*O,x=f/e.props.imageHeight*b,N=j/e.props.imageWidth*O;return Object(L.jsx)("div",{children:Object(L.jsx)(A.a,{placement:"top",overlay:m,children:Object(L.jsx)("div",{className:"text-overlay",style:{top:v,left:g,height:x,width:N}},v+"-text-overlay")},n.description)},n.description+h)}))}},{key:"render",value:function(){return Object(L.jsxs)("div",{className:"ImageDetections",children:[Object(L.jsxs)("div",{className:"img-box",children:[this.renderDetectionsOnImage(),Object(L.jsx)("img",{src:URL.createObjectURL(this.props.images[0]),height:window.innerHeight,top:"0px"},"original-image")]}),Object(L.jsx)("button",{className:"back-button",onClick:this.props.restartSearch,children:"Back to Search"})]})}}]),n}(b.a.Component),_=n(43),U=n(44);!function(e){e.UNKNOWN="",e.ADJ="Adjective",e.ADP="Preposition",e.ADV="Adverb",e.CONJ="Conjunction",e.DET="Determiner",e.NOUN="Noun",e.NUM="Number",e.PRON="Pronoun",e.PRT="Particle",e.PUNCT="Punctuation",e.VERB="Verb",e.X="",e.AFFIX="Affix"}(r||(r={})),function(e){e.ASPECT_UNKNOWN="",e.PERFECTIVE="Perfective",e.IMPERFECTIVE="Imperfective",e.PROGRESSIVE="Progressive"}(i||(i={})),function(e){e.FORM_UNKNOWN="",e.ADNOMIAL="Adnomial",e.AUXILIARY="Auxiliary",e.COMPLEMENTIZER="Complementizer",e.FINAL_ENDING="Final ending",e.GERUND="Gerund",e.REALIS="Realis",e.IRREALIS="Irrealis",e.SHORT="Short form",e.LONG="Long form",e.ORDER="Order form",e.SPECIFIC="Specific form"}(a||(a={})),function(e){e.CASE_UNKNOWN="",e.ACCUSATIVE="Accusative",e.ADVERBIAL="Adverbial",e.COMPLEMENTIVE="Complementive",e.DATIVE="Dative",e.GENITIVE="Genitive",e.INSTRUMENTAL="Instrumental",e.LOCATIVE="Locative",e.NOMINATIVE="Nominative",e.OBLIQUE="Oblique",e.PARTITIVE="Partitive",e.PREPOSITIONAL="Prepositional",e.REFLEXIVE_CASE="Reflexive",e.RELATIVE_CASE="Relative",e.VOCATIVE="Vocative"}(s||(s={})),function(e){e.GENDER_UNKNOWN="",e.FEMININE="Feminine",e.MASCULINE="Masculine",e.NEUTER="Neuter"}(c||(c={})),function(e){e.MOOD_UNKNOWN="",e.CONDITIONAL_MOOD="Conditional",e.IMPERATIVE="Imperative",e.INDICATIVE="Indicative",e.INTERROGATIVE="Interrogative",e.JUSSIVE="Jussive",e.SUBJUNCTIVE="Subjunctive"}(o||(o={})),(l=u||(u={})).NUMBER_UNKNOWN="",l.SINGULAR="Singular",l.PLURAL="Plural",l.DUAL="Dual",function(e){e.PERSON_UNKNOWN="",e.FIRST="First",e.SECOND="Second",e.THIRD="Third",e.REFLEXIVE_PERSON="Reflexive"}(d||(d={})),function(e){e.PROPER_UNKNOWN="",e.PROPER="Proper",e.NOT_Proper="Not Proper"}(h||(h={})),function(e){e.RECIPROCITY_UNKNOWN="",e.RECIPROCAL="Reciprocal",e.NON_RECIPROCAL="Non-reciprocal"}(p||(p={})),function(e){e.TENSE_UNKNOWN="",e.CONDITIONAL_TENSE="Conditional",e.FUTURE="Future",e.PAST="Past",e.PRESENT="Present",e.IMPERFECT="Imperfect",e.PLUPERFECT="Pluperfect"}(f||(f={})),function(e){e.VOICE_UNKNOWN="",e.ACTIVE="Active",e.CAUSATIVE="Causative",e.PASSIVE="Passive"}(j||(j={}));var M=/[.,/#!$%^&*;:{}=\-_`~()]/g;function V(e,t){return k.a.post("https://us-east4-true-bit-315318.cloudfunctions.net/lemmatize",{text:e[0].description,lang:t}).then((function(e){return e.data.tokens.filter((function(e){return""!==e.lemma.trim().replace(M,"")}))}))}function W(e,t){return F.apply(this,arguments)}function F(){return(F=Object(R.a)(P.a.mark((function e(t,n){var l,p,m;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<1)){e.next=2;break}throw Error("no text detected in this image! :(");case 2:if(1!==t.length){e.next=4;break}throw Error("no individual words detected in this image");case 4:return e.prev=4,e.next=7,V(t,n);case 7:if((l=e.sent).length+1==t.length){e.next=10;break}throw Error("the amount of words detected and the amount of words lemmatized are different...");case 10:return p=l.map((function(e,n){var l=e.partOfSpeech.tag,p=e.partOfSpeech.aspect,m=e.partOfSpeech.case,b=e.partOfSpeech.form,O=e.partOfSpeech.gender,v=e.partOfSpeech.mood,g=e.partOfSpeech.number,x=e.partOfSpeech.person,N=e.partOfSpeech.proper,S=e.partOfSpeech.tense,I=e.partOfSpeech.voice;return Object.assign(t[n+1],{lemma:e.lemma,partOfSpeech:r[l],aspect:i[p],case:s[m],form:a[b],gender:c[O],mood:o[v],number:u[g],person:d[x],proper:h[N],tense:f[S],voice:j[I]}),t[n+1]})),m=p.filter((function(e){return"Punctuation"!==e.partOfSpeech})),e.abrupt("return",m);case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,null,[[4,15]])})))).apply(this,arguments)}function H(e){return B.apply(this,arguments)}function B(){return(B=Object(R.a)(P.a.mark((function e(t){var n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(t,"ru");case 3:return n=e.sent,r=n.map((function(e){return k.a.get("https://dictionary.yandex.net/api/v1/dicservice.json/lookup?key=".concat(_.key,"&lang=ru-en&text=").concat(e.lemma)).then((function(t){return Object.assign(e,{definition:t.data}),e}))})),e.abrupt("return",Promise.all(r).then((function(e){var t=e.map((function(e){return void 0===e.def||0===e.def.length?k.a.get("https://api-free.deepl.com/v2/translate?auth_key=".concat(U.key,"&text=").concat(e.lemma,"&target_lang=EN")).then((function(t){return Object.assign(e,{definition:t.data}),e})):e}));return Promise.all(t).then((function(e){return e}))})));case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function K(e,t){return G.apply(this,arguments)}function G(){return(G=Object(R.a)(P.a.mark((function e(t,n){var r,i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t,n);case 2:return r=e.sent,console.log("filtered detections:",r),i=r.map((function(e){return Object.assign(e,{definition:{}}),e})),e.abrupt("return",Promise.all(i).then((function(e){return e})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,t){return X.apply(this,arguments)}function X(){return(X=Object(R.a)(P.a.mark((function e(t,n){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=t.filter((function(e){return""!==e.description.trim().replace(M,"")})),"ru"!==n){e.next=7;break}return e.next=5,H(t);case 5:return r=e.sent,e.abrupt("return",r);case 7:return e.abrupt("return",K(t,n));case 10:throw e.prev=10,e.t0=e.catch(0),console.error("error occurred during lemmatization :("),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}n(76);var z=function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(g.a)(this,n),(e=t.call(this)).state={img_files:null,img_buffers:null,imagesInput:!1,imagesParsed:!1,textDetections:null,definedDetections:null,detectionsLoaded:!1,imageWidth:0,imageHeight:0},e.changeImage=e.changeImage.bind(Object(C.a)(e)),e.setImageProps=e.setImageProps.bind(Object(C.a)(e)),e.restartSearch=e.restartSearch.bind(Object(C.a)(e)),e}return Object(x.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e,t),this.setState({errorOccurred:!0})}},{key:"changeImage",value:function(e){this.setState({img_files:e.target.files,img_type:".jpg",imagesInput:!0},this.parseFiles)}},{key:"parseFiles",value:function(){var e=Object(R.a)(P.a.mark((function e(){var t,n=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Array.from(this.state.img_files).map((function(e){return n.parseFile(e)})),Promise.all(t).then((function(e){n.setState({img_buffers:e,imagesParsed:!0},n.getOCR)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setImageProps",value:function(e,t){this.setState({imageWidth:e,imageHeight:t})}},{key:"parseFile",value:function(){var e=Object(R.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.setImageProps,e.abrupt("return",new Promise((function(e){var r=new FileReader;r.addEventListener("load",(function(t){var i=new Image;i.src=t.target.result,i.onload=function(){n(this.width,this.height)},e(r.result)}),!1),r.readAsDataURL(t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOCR",value:function(){var e=Object(R.a)(P.a.mark((function e(){var t=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.a.post("https://us-east4-true-bit-315318.cloudfunctions.net/documentTextDetection",{img:this.state.img_buffers[0],lang:"ru"}).then((function(e){t.setState({textDetections:e.data.textAnnotations,fullText:e.data.fullTextAnnotation},t.getDefinitions)})).catch((function(e){console.log("an error occurred during OCR; trying again",e),t.getOCR()})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDefinitions",value:function(){var e=Object(R.a)(P.a.mark((function e(){var t=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J(this.state.textDetections,"ru").then((function(e){t.setState({definedDetections:e,detectionsLoaded:!0})})).catch((function(e){console.error(e),t.setState({errorOccurred:!0})}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"restartSearch",value:function(){this.setState({img_files:null,img_buffers:null,imagesInput:!1,imagesParsed:!1,textDetections:null,definedDetections:null,detectionsLoaded:!1,imageWidth:0,imageHeight:0})}},{key:"render",value:function(){var e=Object(L.jsx)("div",{className:"title",children:Object(L.jsx)("h1",{children:"Mass Vocab Search"})});return this.state.errorOccurred?Object(L.jsxs)("div",{className:"ImageInput",children:[e,Object(L.jsx)("div",{children:"An error occured while trying to parse this image. :("}),Object(L.jsx)("button",{children:Object(L.jsx)(I.b,{to:"/img",children:"Try Again"})})]}):this.state.detectionsLoaded?Object(L.jsxs)("div",{className:"ImageInput",children:[e,Object(L.jsx)(D,{restartSearch:this.restartSearch,detections:this.state.definedDetections,lang:"ru",images:this.state.img_files,imageWidth:this.state.imageWidth,imageHeight:this.state.imageHeight,fullText:this.state.fullText})]}):this.state.imagesParsed?Object(L.jsxs)("div",{className:"ImageInput",children:[e,"Loading image text...",Object(L.jsx)("div",{children:Object(L.jsx)("img",{src:this.state.img_buffers[0],height:.5*window.innerHeight})})]}):Object(L.jsxs)("div",{className:"ImageInput",children:[e,Object(L.jsx)("div",{className:"instructions",children:"Please upload an image containing the Russian text to be defined."}),Object(L.jsx)("div",{children:Object(L.jsx)("input",{type:"file",id:"single",onChange:this.changeImage})})]})}}]),n}(b.a.Component),Q=(n(79),function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(x.a)(n,[{key:"render",value:function(){return Object(L.jsx)("div",{className:"tracau-banner",children:Object(L.jsx)("a",{href:"https://tracau.vn",children:Object(L.jsx)("img",{src:"https://tracau.vn/assets/img/api/banner_white.png",alt:"Powered by tra c\xe2u"})})})}}]),n}(b.a.Component)),Y=(n(80),n(46)),Z=n(47),$=function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(g.a)(this,n),(e=t.call(this)).state={text:""},e}return Object(x.a)(n,[{key:"detectHotkeySubmit",value:function(e,t){e.shiftKey&&"Enter"===e.key&&this.props.submitSearch(t)}},{key:"render",value:function(){var e=this;return Object(L.jsxs)("div",{className:"InputText",children:[Object(L.jsxs)("div",{className:"main-content",children:[Object(L.jsx)("div",{children:"Enter text: "}),Object(L.jsxs)("div",{className:"upper-flex",onKeyPress:function(t){return e.detectHotkeySubmit(t,e.state.text)},children:[Object(L.jsx)("textarea",{className:"big-textbox",value:this.state.text,onChange:function(t){return e.setState({text:t.target.value})}}),Object(L.jsx)(Y.a,{icon:Z.a,onClick:function(t){return e.props.submitSearch(e.state.text)}})]})]}),Object(L.jsx)(Q,{})]})}}]),n}(b.a.Component),q=function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(x.a)(n,[{key:"render",value:function(){return this.props.defnsList[0].startsWith("See ")?this.defnsList=this.props.defnsList.slice(1):this.defnsList=this.props.defnsList,Object(L.jsx)("div",{className:"Definition",children:Object(L.jsx)("ol",{children:this.defnsList.map((function(e){return Object(L.jsx)("li",{children:e})}))})})}}]),n}(b.a.Component),ee=function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(x.a)(n,[{key:"render",value:function(){var e=Object(L.jsxs)(w.a,{id:this.props.word,children:[Object(L.jsx)(w.a.Title,{as:"h3",children:this.props.word}),Object(L.jsx)(w.a.Content,{children:Object(L.jsx)(q,{defnsList:this.props.defn})})]});return Object(L.jsx)("div",{className:"DefinedWord",children:Object(L.jsx)(A.a,{placement:"top",overlay:e,children:Object(L.jsx)("div",{children:this.props.word})},this.props.word)})}}]),n}(b.a.Component),te=(n(83),function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(g.a)(this,n),(e=t.call(this)).state={isLoaded:!1,searchResults:{}},e}return Object(x.a)(n,[{key:"search",value:function(e){var t=this,n=e.split(/[ X\n]/),r={},i=n.map((function(e,i){return t.searchCompoundWord(n,i).then((function(t){if(t&&t.length>0&&!t[0].startsWith("See "))return r[e+" "+n[i+1]]=t,Promise.resolve()}))}));return Promise.all(i).then((function(){var e=Object.assign({},r);console.log("compound definitions:",e);var i=n.map((function(i,a){var s=n[a-1]+" "+i,c=i+" "+n[a+1];return s in r||c in r?Promise.resolve():t.tracauSearch(i).then((function(t){return t&&t.length>0&&(e[i]=t),Promise.resolve()}))}));return Promise.all(i).then(e)}))}},{key:"searchCompoundWord",value:function(e,t){return e.length>t+1?this.tracauSearch(e[t]+" "+e[t+1]):Promise.resolve()}},{key:"tracauSearch",value:function(e){var t=e.trim().replace(/[.,/#!$%^&*;:{}=\-_`~()]/g,"");return k.a.get("https://api.tracau.vn/"+ne+"/s/"+t+"/vi").then((function(e){if(e.data.tratu.length<=0)return!1;var t=e.data.tratu[0].fields.fulltext,n=t.indexOf('<article id="dict_vv" data-tab-name="Vi\u1ec7t - Anh"'),r=t.slice(n),i=r.indexOf("</article>"),a='<table id="definition_T_ve_id" border="0">',s=(r=r.slice(0,i)).indexOf(a)+a.length,c=r.slice(s),o=c.indexOf("</table>"),u=(c=c.slice(0,o)).split('<td id="I_C"><font color="#999">\u25a0</font></td><td id="C_C" colspan="2">'),l=[];return u.slice(1).forEach((function(e){var t=e.slice(0,e.indexOf("</td>")),n='Xem <font color="#1371BB">',r=t.indexOf("</font>");(t.startsWith(n)||t.startsWith('xem <font color="#1371BB">'))&&(t="See "+t.slice(n.length,r)),l.push(t)})),l}))}},{key:"componentDidMount",value:function(){var e=this;this.search(this.props.text).then((function(t){console.log("search results",t),e.setState({isLoaded:!0,searchResults:t})}))}},{key:"render",value:function(){var e=this,t=Object(L.jsxs)("div",{className:"footer",children:[Object(L.jsx)("div",{className:"submit-search",children:Object(L.jsx)("button",{onClick:this.props.returnToSearch,children:"Search again"})}),Object(L.jsx)(Q,{})]});return""===this.props.text?Object(L.jsxs)("div",{className:"SearchedText",children:[Object(L.jsx)("div",{className:"text-display",children:Object(L.jsx)("div",{className:"vertical-centered",children:Object(L.jsx)("div",{children:"Oops! Looks like no text was input. Would you like to search again?"})})}),t]}):this.state.isLoaded?Object(L.jsxs)("div",{className:"SearchedText",children:[Object(L.jsx)("div",{className:"text-display",children:Object(L.jsx)("div",{className:"vertical-centered",children:Object(L.jsx)("div",{className:"words-and-definitions",children:this.props.text.split(/[ X\n]/).map((function(t,n){if(-1!==n){var r=t+" "+e.props.text.split(/[ X\n]/)[n+1];if(r in e.state.searchResults){var i=e.state.searchResults[r];return Object(L.jsx)(ee,{word:r,defn:i},n)}if(t in e.state.searchResults){var a=e.state.searchResults[t];return Object(L.jsx)(ee,{word:t,defn:a},n)}return Object(L.jsx)("div",{className:"definition-not-found",children:t},n)}}))})})}),t]}):Object(L.jsxs)("div",{className:"SearchedText",children:[Object(L.jsx)("div",{className:"text-display",children:Object(L.jsx)("div",{className:"vertical-centered",children:"loading..."})}),t]})}}]),n}(b.a.Component)),ne="WBBcwnwQpV89",re=te,ie=function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(g.a)(this,n),(e=t.call(this)).state={searched:!1,searchedText:""},e.toggleSearch=e.toggleSearch.bind(Object(C.a)(e)),e}return Object(x.a)(n,[{key:"toggleSearch",value:function(e){this.setState((function(t){return{searched:!t.searched,searchedText:e}}))}},{key:"render",value:function(){var e=this;return this.state.searched?Object(L.jsx)("div",{className:"TextInput",children:Object(L.jsx)(re,{text:this.state.searchedText,returnToSearch:function(t){return e.toggleSearch("")}})}):Object(L.jsx)("div",{className:"TextInput",children:Object(L.jsx)("header",{className:"App-header",children:Object(L.jsx)($,{submitSearch:this.toggleSearch})})})}}]),n}(b.a.Component),ae=function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(x.a)(n,[{key:"render",value:function(){return Object(L.jsx)("div",{className:"App",children:Object(L.jsx)(I.a,{children:Object(L.jsxs)(y.c,{children:[Object(L.jsx)(y.a,{path:"/text",component:ie}),Object(L.jsx)(y.a,{path:"/img",component:z}),Object(L.jsx)(y.a,{exact:!0,path:"/",component:ie})]})})})}}]),n}(b.a.Component),se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,89)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),i(e),a(e),s(e)}))};v.a.render(Object(L.jsx)(b.a.StrictMode,{children:Object(L.jsx)(ae,{})}),document.getElementById("root")),se()}},[[84,1,2]]]);
//# sourceMappingURL=main.4ae2f914.chunk.js.map